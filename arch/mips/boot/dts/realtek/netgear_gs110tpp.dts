// SPDX-License-Identifier: GPL-2.0-or-later
/dts-v1/;

#include "rtl83xx.dtsi"
#include "rtl838x.dtsi"

#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/input/input.h>
#include <dt-bindings/leds/common.h>

#define NETGEAR_PORT_LED(phy) \
	led@##phy##.0 { \
		reg = <##phy 0>; \
		realtek,hardware-managed; \
		color = <LED_COLOR_ID_GREEN>; \
		function = LED_FUNCTION_LAN; \
	}; \
	led@##phy##.1 { \
		reg = <##phy 1>; \
		realtek,hardware-managed; \
		color = <LED_COLOR_ID_AMBER>; \
		function = LED_FUNCTION_LAN; \
	}

/ {
	compatible = "netgear,gs110tpp-v1", "realtek,rtl83xx-soc";
	model = "Netgear GS110TPP";

	chosen {
		stdout-path = "serial0";
		bootargs = "earlycon console=ttyS0,115200";
	};

	memory@0 {
		device_type = "memory";
		reg = <0x0 0x8000000>;
	};

	aliases {
		mdio-gpio1 = &mdio1;
	};

	keys {
		compatible = "gpio-keys";

		reset {
			gpios = <&gpio0 0 GPIO_ACTIVE_LOW>;
			linux,code = <KEY_RESTART>;
		};
	};

	leds {
		compatible = "gpio-leds";

		led_sys_red: sys_red {
			gpios = <&gpio1 31 GPIO_ACTIVE_LOW>;
			color = <LED_COLOR_ID_RED>;
			function = LED_FUNCTION_STATUS;
		};

		led_sys_green: sys_green {
			gpios = <&gpio1 32 GPIO_ACTIVE_LOW>;
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_STATUS;
		};

		led_sys_blue: sys_blue {
			gpios = <&gpio1 34 GPIO_ACTIVE_LOW>;
			color = <LED_COLOR_ID_BLUE>;
			function = LED_FUNCTION_STATUS;
			linux,default-trigger = "default-on";
		};
	};

	gpio-restart {
		compatible = "gpio-restart";
		gpios = <&gpio0 13 GPIO_ACTIVE_LOW>;
		priority = <192>;
		open-source;
	};

	mdio1: mdio {
		compatible = "virtual,mdio-gpio";
		#address-cells = <1>;
		#size-cells = <0>;
		gpios = <&gpio0 2 GPIO_ACTIVE_HIGH>,
			<&gpio0 3 GPIO_ACTIVE_HIGH>;

		pinctrl-names = "default";
		pinctrl-0 = <&gpio_mdx_pins>;

		gpio1: gpio-expander@31 {
			compatible = "realtek,rtl8231";
			reg = <31>;

			#gpio-cells = <2>;
			gpio-controller;
			ngpios = <37>;

			led_pins: led_cfg {
				pins = "gpio31", "gpio32", "gpio34";
				function = "gpio";
			};
		};
	};
};

&uart0 {
	status = "okay";
};
